(function(a){function b(b){append='			<div id="mp-overlayer">    			<div id="mp-overlayer-background"></div>    			<div id="mp-overlayer-message">    				<div id="mp-message-content">    					<div id="mp-message-table">    						<div style="clear:both"></div>    					</div>    				</div>    			</div>    		</div>		';if(a("body").children("#mp-overlayer").length==0){a("body").append(append)}}function c(b,c){table="";if(b){table+='				<div id="mp-message-content-message"></div>				<div id="mp-message-content-buttons">					<div style="width:50%;" class="mp-message-content-buttons-button">						<a class="mp-overlayer_button" id="mp-overlayer-yes-button">            				'+opts[c].yes_text+'            				<input type="hidden" id="mp-overlayer-yes-button-id" />            			</a>					</div>					<div style="width:50%;" class="mp-message-content-buttons-button">						<a class="mp-overlayer_button" id="mp-overlayer-no-button">'+opts[c].no_text+'</a>						<div style="clear:both;"></div>					</div>				</div>			'}else{table+='					<div id="mp-message-content-message">'+singleCallOpts.message+'</div>					<div id="mp-message-content-buttons">				';width=100/a(singleCallOpts.buttons).length;for(i=0;i<a(singleCallOpts.buttons).length;i++){table+='					<div style="width:'+width+'%" class="mp-message-content-buttons-button">    					<a class="mp-overlayer_button" id="mp-overlayer-'+i+'-button"';if(singleCallOpts.buttons[i]["action"]==undefined||singleCallOpts.buttons[i]["action"]==""){a(document).off("click","#mp-overlayer #mp-overlayer-"+i+"-button");a(document).on("click","#mp-overlayer #mp-overlayer-"+i+"-button",function(){a.mpHide()})}else{action=singleCallOpts.buttons[i]["action"];a(document).off("click","#mp-overlayer #mp-overlayer-"+i+"-button");a(document).on("click","#mp-overlayer #mp-overlayer-"+i+"-button",function(){action();a.mpHide()})}table+=">						"+singleCallOpts.buttons[i]["button_text"]+"						</a>					</div>				"}table+='				<div style="clear:both;"></div>				</div>			'}a("#mp-overlayer #mp-message-table").html(table)}option_counter=0;opts=new Array;obj=new Array;objcounter=0;a.fn.metroPopup=function(d){function e(b){b.preventDefault();id=a(this).attr("data-mpid");c(true,id);if(a(this).attr("data-mpmessage")!=undefined){a("#mp-overlayer #mp-message-content-message").html(a(this).attr("data-mpmessage"))}else{a("#mp-overlayer #mp-message-content-message").html("Are you sure you want to do this")}a("#mp-overlayer #mp-overlayer-yes-button-id").val(a(this).attr("data-mpid"));a("#mp-overlayer").show();return false}return this.each(function(){opts[objcounter]=a.extend({},a.fn.metroPopup.defaults,d);a(this).click(e);a(this).attr("data-mpid",objcounter);b(true);obj[objcounter]=this;objcounter++})};a.metroPopup=function(d){singleCallOpts=a.extend({},a.metroPopup.defaults,d);b(false);c(false);a("#mp-overlayer").show()};a.mpHide=function(){a("#mp-overlayer").hide()};a(document).on("click","#mp-overlayer #mp-overlayer-no-button",function(b){a.mpHide()});a(document).on("click","#mp-overlayer #mp-overlayer-yes-button",function(b){id=a("#mp-overlayer #mp-overlayer-yes-button-id").val();if(a(obj[id]).prop("tagName")=="A"){if(a(obj[id]).attr("target")!=undefined){window.open(a(obj[id]).attr("href"),a(obj[id]).attr("target"))}else{document.location=a(obj[id]).attr("href")}}else if(a(obj[id]).prop("tagName")=="INPUT"){a(obj[id]).parents("form").submit()}a("#mp-overlayer").hide()});a.fn.metroPopup.defaults={yes_text:"Yes",no_text:"No"};a.metroPopup.defaults={buttons:[{button_text:"Ok",action:""}],message:""}})(jQuery)