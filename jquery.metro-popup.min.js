(function(e){function t(t,n){e.each(n,function(n,r){if(e.isPlainObject(r)){e.each(r,function(e,i){if(t[n]==undefined){t[n]=r}if(t[n][e]==undefined){t[n][e]=i}})}else{if(t[n]==undefined){t[n]=r}}});return t}function n(t){append='			<div id="mp-overlayer">    			<div id="mp-overlayer-background"></div>    			<div id="mp-overlayer-message">    				<div id="mp-message-content">    					<div id="mp-message-table">    						<div style="clear:both"></div>    					</div>    				</div>    			</div>    		</div>		';if(e("body").children("#mp-overlayer").length==0){e("body").append(append)}}function r(t,n){table="";if(t){yes_style=opts[n].yes_color["style"];if(!i(yes_style)){yes_style="default"}yes_color="";if(opts[n].yes_color["custom"]==true){yes_color='style="					background-color:#'+opts[n].yes_color["background"]+";					border-color:#"+opts[n].yes_color["border"]+";					color:#"+opts[n].yes_color["text_color"]+';				"';e(document).off("mouseenter","#mp-overlayer #mp-overlayer-yes-button");e(document).off("mouseleave","#mp-overlayer #mp-overlayer-yes-button");e(document).on({mouseenter:function(){e(this).css({color:"#"+opts[n].yes_color["hover_text_color"]})},mouseleave:function(){e(this).css({color:"#"+opts[n].yes_color["text_color"]})}},"#mp-overlayer #mp-overlayer-yes-button")}no_style=opts[n].no_color["style"];if(!i(no_style)){no_style="default"}no_color="";if(opts[n].no_color["custom"]==true){no_color='style="					background-color:#'+opts[n].no_color["background"]+";					border-color:#"+opts[n].no_color["background"]+";					color:#"+opts[n].no_color["text_color"]+';				"';e(document).off("mouseenter","#mp-overlayer #mp-overlayer-no-button");e(document).off("mouseleave","#mp-overlayer #mp-overlayer-no-button");e(document).on({mouseenter:function(){e(this).css({color:"#"+opts[n].no_color["hover_text_color"]})},mouseleave:function(){e(this).css({color:"#"+opts[n].no_color["text_color"]})}},"#mp-overlayer #mp-overlayer-no-button")}table+='				<div id="mp-message-content-message"></div>				<div id="mp-message-content-buttons">					<div style="width:50%;" class="mp-message-content-buttons-button">						<a class="mp-overlayer_button_'+yes_style+'" '+yes_color+' id="mp-overlayer-yes-button">            				'+opts[n].yes_text+'            				<input type="hidden" id="mp-overlayer-yes-button-id" />            			</a>					</div>					<div style="width:50%;" class="mp-message-content-buttons-button">						<a class="mp-overlayer_button_'+no_style+'" '+no_color+' id="mp-overlayer-no-button">'+opts[n].no_text+'</a>						<div style="clear:both;"></div>					</div>				</div>			'}else{table+='					<div id="mp-message-content-message">'+singleCallOpts.message+'</div>					<div id="mp-message-content-buttons">				';if(multiple_buttons){width=100/e(singleCallOpts.buttons).length;for(var r=0;r<e(singleCallOpts.buttons).length;r++){style=singleCallOpts.buttons[r].color["style"];if(!i(style)){style="default"}color="";if(singleCallOpts.buttons[r].color["custom"]==true){color='style="							background-color:#'+singleCallOpts.buttons[r].color["background"]+";							border-color:#"+singleCallOpts.buttons[r].color["border"]+";							color:#"+singleCallOpts.buttons[r].color["text_color"]+';						"';color_hover=singleCallOpts.buttons[r].color["hover_text_color"];color_normal=singleCallOpts.buttons[r].color["text_color"];e(document).off("mouseenter","#mp-overlayer #mp-overlayer-"+r+"-button");e(document).off("mouseleave","#mp-overlayer #mp-overlayer-"+r+"-button");e(document).on({mouseenter:function(){e(this).css({color:"#"+color_hover})},mouseleave:function(){e(this).css({color:"#"+color_normal})}},"#mp-overlayer #mp-overlayer-"+r+"-button")}table+='						<div style="width:'+width+'%" class="mp-message-content-buttons-button">	    					<a class="mp-overlayer_button_'+style+'" '+color+' id="mp-overlayer-'+r+'-button"';if(singleCallOpts.buttons[r]["action"]==undefined||singleCallOpts.buttons[r]["action"]==""){e(document).off("click","#mp-overlayer #mp-overlayer-"+r+"-button");e(document).on("click","#mp-overlayer #mp-overlayer-"+r+"-button",function(){e.mpHide()})}else{action=singleCallOpts.buttons[r]["action"];e(document).off("click","#mp-overlayer #mp-overlayer-"+r+"-button");e(document).on("click","#mp-overlayer #mp-overlayer-"+r+"-button",function(){action();e.mpHide()})}table+=">							"+singleCallOpts.buttons[r]["button_text"]+"							</a>						</div>					"}table+='					<div style="clear:both;"></div>					</div>				'}else{style=singleCallOpts.button.color["style"];if(!i(style)){style="default"}color="";if(singleCallOpts.button.color["custom"]==true){color='style="						background-color:#'+singleCallOpts.button.color["background"]+";						border-color:#"+singleCallOpts.button.color["border"]+";						color:#"+singleCallOpts.button.color["text_color"]+';					"';color_hover=singleCallOpts.button.color["hover_text_color"];color_normal=singleCallOpts.button.color["text_color"];e(document).off("mouseenter","#mp-overlayer #mp-overlayer-1-button");e(document).off("mouseleave","#mp-overlayer #mp-overlayer-1-button");e(document).on({mouseenter:function(){e(this).css({color:"#"+color_hover})},mouseleave:function(){e(this).css({color:"#"+color_normal})}},"#mp-overlayer #mp-overlayer-1-button")}table+='					<div style="width:100%" class="mp-message-content-buttons-button">    					<a class="mp-overlayer_button_'+style+'" '+color+' id="mp-overlayer-1-button"';if(singleCallOpts.button["action"]==undefined||singleCallOpts.button["action"]==""){e(document).off("click","#mp-overlayer #mp-overlayer-1-button");e(document).on("click","#mp-overlayer #mp-overlayer-1-button",function(){e.mpHide()})}else{action=singleCallOpts.button["action"];e(document).off("click","#mp-overlayer #mp-overlayer-1-button");e(document).on("click","#mp-overlayer #mp-overlayer-1-button",function(){action();e.mpHide()})}table+=">						"+singleCallOpts.button["button_text"]+"						</a>					</div>				";table+='					<div style="clear:both;"></div>					</div>				'}}e("#mp-overlayer #mp-message-table").html(table)}function i(e){haystack=Array("default","red","orange","green");for(key in haystack){if(haystack[key]==e){return true}}return false}opts=new Array;obj=new Array;objcounter=0;e.fn.metroPopup=function(i){function s(t){t.preventDefault();id=e(this).attr("data-mpid");r(true,id);if(e(this).attr("data-mpmessage")!=undefined){e("#mp-overlayer #mp-message-content-message").html(e(this).attr("data-mpmessage"))}else{e("#mp-overlayer #mp-message-content-message").html("Are you sure you want to do this")}e("#mp-overlayer #mp-overlayer-yes-button-id").val(e(this).attr("data-mpid"));e("#mp-overlayer").show();return false}return this.each(function(){if(i!=undefined){i=t(i,e.fn.metroPopup.defaults)}else{i=e.extend(true,e.fn.metroPopup.defaults,i)}opts[objcounter]=i;e(this).click(s);e(this).attr("data-mpid",objcounter);n(true);obj[objcounter]=this;objcounter++})},e.metroPopup=function(i){singleCallOpts="";multiple_buttons=false;if(e(i.buttons).length>0){for(var s=0;s<e(i.buttons).length;s++){i.buttons[s]=t(i.buttons[s],e.metroPopup.single.button)}console.log(i);singleCallOpts=i;multiple_buttons=true}else{i=t(i,e.metroPopup.single);singleCallOpts=i}n(false);r(false);e("#mp-overlayer").show()},e.mpHide=function(){e("#mp-overlayer").hide()};e(document).on("click","#mp-overlayer #mp-overlayer-no-button",function(t){e.mpHide()});e(document).on("click","#mp-overlayer #mp-overlayer-yes-button",function(t){id=e("#mp-overlayer #mp-overlayer-yes-button-id").val();if(e(obj[id]).prop("tagName")=="A"){if(e(obj[id]).attr("target")!=undefined){window.open(e(obj[id]).attr("href"),e(obj[id]).attr("target"))}else{document.location=e(obj[id]).attr("href")}}else if(e(obj[id]).prop("tagName")=="INPUT"){e(obj[id]).parents("form").submit()}e("#mp-overlayer").hide()});e.fn.metroPopup.defaults={yes_text:"Yes",yes_color:{style:"default",custom:false,background:"81ADBC",border:"979797",text_color:"FFFFFF",hover_text_color:"343434"},no_text:"No",no_color:{style:"default",custom:false,background:"81ADBC",border:"979797",text_color:"FFFFFF",hover_text_color:"343434"}},e.metroPopup.single={message:"",button:{button_text:"Ok",action:"",color:{style:"default",custom:false,background:"81ADBC",border:"979797",text_color:"FFFFFF",hover_text_color:"343434"}}}})(jQuery)